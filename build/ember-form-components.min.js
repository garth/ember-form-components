/*! ember-form-components 2013-12-15 09:50:39 https://github.com/garth/ember-form-components */
EmberFormComponents=EmberFC=Ember.Namespace.create(),EmberFormComponents.Focusable=Ember.Mixin.create({focused:!1,focusIn:function(){this.set("focused",!0)},focusOut:function(){this.set("focused",!1)},autofocus:!1,shouldAutoFocus:function(){this.get("autofocus")&&this.$("input").focus()}.on("didInsertElement")}),EmberFormComponents.AsyncValidation=Ember.Mixin.create({label:"",value:"",statusClass:function(){return this.get("validating")?"has-warning":this.get("showFieldValidation")||this.get("formController.showFieldValidation")?this.get("isValid")?"has-success":"has-error":""}.property("isValid","showFieldValidation","formController.showFieldValidation","focused","validating"),classNameBindings:["statusClass"],statusMessage:"",message:function(){return this.get("showMessages")?this.get("validating")?this.get("validatingMessage"):(!this.get("focused")||this.get("showErrorOnFocus")||this.get("forceShowError")||this.get("isValid"))&&(this.get("showFieldValidation")||this.get("formController.showFieldValidation"))?this.get("statusMessage"):"":""}.property("isValid","showFieldValidation","formController.showFieldValidation","focused","validating"),showFieldValidation:!1,showErrorOnFocus:!1,forceShowError:!1,formController:null,showMessages:!0,isValid:!1,validating:!1,validatingMessage:"checking...",registerFieldWithController:function(){this.validateField();var a=this.get("formController.validationFields");a&&a.pushObject(this)}.on("didInsertElement"),enableShowFieldValidaion:function(){this.get("showFieldValidation")||this.set("showFieldValidation",!0)}.observes("focused","value"),validateField:function(){this.set("validating",!0);var a=this.get("value"),b=this;this.validate(a,function(c,d,e){a===b.get("value")&&(b.set("statusMessage",d),b.set("isValid",c),b.set("validating",!1),b.set("forceShowError",!!e))})}.observes("value"),validate:function(a,b){b(!0,"")}}),EmberFormComponents.InputTextComponent=Ember.Component.extend(EmberFormComponents.Focusable,EmberFormComponents.AsyncValidation,{classNames:["form-group"],type:"text",placeholder:"",required:!1,shouldEqual:null,shouldEqualMessage:null,shouldEqualObserver:function(){this.validateField()}.observes("shouldEqual"),regex:null,regexMessage:null,customValidator:null,customValidatorDelay:0,customValidatorTimeout:null,validate:function(a,b){var c=this.get("regexMessage");if(c&&void 0!==a&&!a.match(this.get("regex")))b(!1,c);else{var d=this.get("shouldEqualMessage");if(d&&a!==this.get("shouldEqual"))b(!1,d);else if(!this.get("required")||a&&0!==a.trim().length){var e=this.get("customValidator");if("function"==typeof e){var f=this.get("formController"),g=this.get("customValidatorDelay");g&&g>0?(clearTimeout(this.get("customValidatorTimeout")),this.set("customValidatorTimeout",setTimeout(function(){e.apply(f,[a,b])},g))):e.apply(f,[a,b])}else this._super(a,b)}else b(!1,this.get("label")+" is required")}}}),EmberFormComponents.InputEmailComponent=EmberFormComponents.InputTextComponent.extend({placeholder:"email address",label:"Email Address",validatingMessage:"checking email...",validate:function(a,b){a&&a.length>0&&!a.match("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$")?b(!1,"Please enter a valid email address"):this._super(a,b)}}),EmberFormComponents.InputPasswordComponent=Ember.Component.extend({value:"",score:0,progressWidth:function(){return"width: "+this.get("score")+"%"}.property("score"),progressType:function(){var a=this.get("score");return a>=100?"progress-bar progress-bar-success":a>=75?"progress-bar progress-bar-info":a>=50?"progress-bar progress-bar-warning":"progress-bar progress-bar-danger"}.property("score"),formController:null,registerFieldWithController:function(){var a=this.get("formController.validationFields");a&&a.pushObject(this)}.on("didInsertElement"),showFieldValidation:null,showFieldValidationBinding:"formController.showFieldValidation",validationFields:Ember.A(),isValid:function(){return!this.get("validationFields").any(function(a){return!a.get("isValid")})}.property("validationFields.@each.isValid"),validatePassword:function(a,b){var c=5,d=this.generatePasswordScore(a,c);d>100&&(d=100),this.set("score",d),0===d?b(!1,"Password should be at least "+c+" characters long"):b(!0,"")},generatePasswordScore:function(a,b){if(!a||a.length<b)return 0;for(var c=50,d={excess:0,upper:0,numbers:0,symbols:0},e={excess:3,upper:4,numbers:5,symbols:5,combo:0,flatLower:0,flatNumber:0},f=0;f<a.length;f++)a[f].match(/[A-Z]/g)&&d.upper++,a[f].match(/[0-9]/g)&&d.numbers++,a[f].match(/(.*[!,@,#,$,%,\^,&,*,?,_,~,:])/)&&d.symbols++;return d.upper>4&&(d.upper=4),d.numbers>4&&(d.numbers=4),d.excess=a.length-2*b,d.upper&&d.numbers&&d.symbols?e.combo=25:(d.upper&&d.numbers||d.upper&&d.symbols||d.numbers&&d.symbols)&&(e.combo=15),a.match(/^[\sa-z]+$/)&&(e.flatLower=-15),a.match(/^[\s0-9]+$/)&&(e.flatNumber=-35),c+d.excess*e.excess+d.upper*e.upper+d.numbers*e.numbers+d.symbols*e.symbols+e.combo+e.flatLower+e.flatNumber}}),EmberFormComponents.Form=Ember.Mixin.create({showFieldValidation:!1,validationFields:Ember.A(),isFormValid:function(){return!this.get("validationFields").any(function(a){return!a.get("isValid")})}.property("validationFields.@each.isValid")}),EmberFormComponents.Register=Ember.Mixin.create({InputEmailComponent:EmberFormComponents.InputEmailComponent,InputPasswordComponent:EmberFormComponents.InputPasswordComponent,InputTextComponent:EmberFormComponents.InputTextComponent}),this.Ember=this.Ember||{},this.Ember.TEMPLATES=this.Ember.TEMPLATES||{},this.Ember.TEMPLATES["components/input-email"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={},h={},i={hash:{},contexts:[b],types:["STRING"],hashContexts:h,hashTypes:g,data:e},e.buffer.push(l((f=c.partial||b.partial,f?f.call(b,"input_text",i):k.call(b,"partial","input_text",i)))),e.buffer.push("\r\n"),j}),this.Ember.TEMPLATES["components/input-password"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={type:b,label:b,placeholder:b,value:b,formController:b,required:b,customValidator:b},h={type:"STRING",label:"STRING",placeholder:"STRING",value:"ID",formController:"ID",required:"ID",customValidator:"ID"},i={hash:{type:"password",label:"Password",placeholder:"password",value:"view.value",formController:"view",required:"view.required",customValidator:"view.validatePassword"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c["input-text"]||b["input-text"],f?f.call(b,i):k.call(b,"input-text",i)))),e.buffer.push("\r\n"),h={},g={},i={hash:{},contexts:[b],types:["STRING"],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.partial||b.partial,f?f.call(b,"input_password_strength",i):k.call(b,"partial","input_password_strength",i)))),e.buffer.push("\r\n"),g={type:b,label:b,placeholder:b,formController:b,shouldEqual:b,shouldEqualMessage:b},h={type:"STRING",label:"STRING",placeholder:"STRING",formController:"ID",shouldEqual:"ID",shouldEqualMessage:"STRING"},i={hash:{type:"password",label:"Confirm Password",placeholder:"password",formController:"view",shouldEqual:"view.value",shouldEqualMessage:"Passwords do not match"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c["input-text"]||b["input-text"],f?f.call(b,i):k.call(b,"input-text",i)))),e.buffer.push("\r\n"),j}),this.Ember.TEMPLATES["components/input-text"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={},h={},i={hash:{},contexts:[b],types:["STRING"],hashContexts:h,hashTypes:g,data:e},e.buffer.push(l((f=c.partial||b.partial,f?f.call(b,"input_text",i):k.call(b,"partial","input_text",i)))),e.buffer.push("\r\n"),j}),this.Ember.TEMPLATES["components/submit-button"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return e.buffer.push('<button type="submit" '),g={"class":b},h={"class":"STRING"},i={hash:{"class":":btn formController.isFormValid:btn-primary:btn-default"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c["bind-attr"]||b["bind-attr"],f?f.call(b,i):k.call(b,"bind-attr",i)))),e.buffer.push(">"),h={},g={},e.buffer.push(l(c._triageMustache.call(b,"yield",{hash:{},contexts:[b],types:["ID"],hashContexts:g,hashTypes:h,data:e}))),e.buffer.push("</button>\r\n"),j}),this.Ember.TEMPLATES.input_password_strength=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return e.buffer.push('<div class="progress password-meter">\r\n  <div '),g={"class":b},h={"class":"STRING"},i={hash:{"class":"progressType"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c["bind-attr"]||b["bind-attr"],f?f.call(b,i):k.call(b,"bind-attr",i)))),e.buffer.push(' role="progressbar"\r\n    '),g={"aria-valuenow":b},h={"aria-valuenow":"STRING"},i={hash:{"aria-valuenow":"score"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c["bind-attr"]||b["bind-attr"],f?f.call(b,i):k.call(b,"bind-attr",i)))),e.buffer.push(' aria-valuemin="0"\r\n    aria-valuemax="100" '),g={style:b},h={style:"STRING"},i={hash:{style:"progressWidth"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c["bind-attr"]||b["bind-attr"],f?f.call(b,i):k.call(b,"bind-attr",i)))),e.buffer.push("></div>\r\n</div>\r\n"),j}),this.Ember.TEMPLATES.input_text=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return b.buffer.push('\r\n  <span class="help-block">'),d={},e={},b.buffer.push(m(c._triageMustache.call(a,"message",{hash:{},contexts:[a],types:["ID"],hashContexts:e,hashTypes:d,data:b}))),b.buffer.push("</span>\r\n"),f}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var g,h,i,j,k,l="",m=this.escapeExpression,n=c.helperMissing,o=this;return e.buffer.push('<label class="control-label" '),i={"for":b},j={"for":"STRING"},k={hash:{"for":"inputField.elementId"},contexts:[],types:[],hashContexts:i,hashTypes:j,data:e},e.buffer.push(m((g=c["bind-attr"]||b["bind-attr"],g?g.call(b,k):n.call(b,"bind-attr",k)))),e.buffer.push(">"),j={},i={},e.buffer.push(m(c._triageMustache.call(b,"label",{hash:{},contexts:[b],types:["ID"],hashContexts:i,hashTypes:j,data:e}))),e.buffer.push("</label>\r\n"),i={typeBinding:b,"class":b,placeholderBinding:b,valueBinding:b,viewName:b},j={typeBinding:"STRING","class":"STRING",placeholderBinding:"STRING",valueBinding:"STRING",viewName:"STRING"},k={hash:{typeBinding:"type","class":"form-control",placeholderBinding:"placeholder",valueBinding:"value",viewName:"inputField"},contexts:[],types:[],hashContexts:i,hashTypes:j,data:e},e.buffer.push(m((g=c.input||b.input,g?g.call(b,k):n.call(b,"input",k)))),e.buffer.push("\r\n"),j={},i={},h=c["if"].call(b,"message",{hash:{},inverse:o.noop,fn:o.program(1,f,e),contexts:[b],types:["ID"],hashContexts:i,hashTypes:j,data:e}),(h||0===h)&&e.buffer.push(h),e.buffer.push("\r\n"),l});